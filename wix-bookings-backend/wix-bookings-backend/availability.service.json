{ "name": "availability",
  "memberOf": "wix-bookings-backend",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 17,
      "filename": "index.js" },
  "docs":
    { "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "isBookingAvailable",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "scheduleId",
              "type": "string",
              "doc": "Check if schedule with the given ID is available for booking" },
            { "name": "partySize",
              "type": "number",
              "doc": "Number of spots to query availability for." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.availability.IsAvailableResponse" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 70,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Returns the current availability of a requested entity.",
            "description":
              [ "Based on the requested entity, validate there is enough spots left.",
                "When invoking on a locked session, availability is False.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Read Bookings - Public Data permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from \"wix-bookings-backend\";",
                      "",
                      "export function isBookingAvailable() {",
                      "  let scheduleId = \"a string\";",
                      "  let partySize = 42;",
                      "",
                      "  return availability",
                      "    .isBookingAvailable(scheduleId, partySize)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-beta" } ] } },
      { "name": "isScheduleAvailable",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "scheduleId",
              "type": "string",
              "doc": "Check if schedule with the given ID is available for booking" },
            { "name": "partySize",
              "type": "number",
              "doc": "Number of spots to query availability for." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.availability.IsAvailableResponse" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 53,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Returns the current availability of a requested entity.",
            "description":
              [ "Based on the requested entity, validate there is enough spots left.",
                "When invoking on a locked session, availability is False.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Read Bookings - Public Data permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from \"wix-bookings-backend\";",
                      "",
                      "export function isScheduleAvailable() {",
                      "  let scheduleId = \"a string\";",
                      "  let partySize = 42;",
                      "",
                      "  return availability",
                      "    .isScheduleAvailable(scheduleId, partySize)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-beta" } ] } },
      { "name": "isSessionAvailable",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "sessionId",
              "type": "string",
              "doc": "Check if session with the given ID is available for booking" },
            { "name": "partySize",
              "type": "number",
              "doc": "Number of spots to query availability for." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.availability.IsAvailableResponse" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 19,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Returns the current availability of a requested entity.",
            "description":
              [ "Based on the requested entity, validate there is enough spots left.",
                "When invoking on a locked session, availability is False.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Read Bookings - Public Data permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from \"wix-bookings-backend\";",
                      "",
                      "export function isSessionAvailable() {",
                      "  let sessionId = \"a string\";",
                      "  let partySize = 42;",
                      "",
                      "  return availability",
                      "    .isSessionAvailable(sessionId, partySize)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-beta" } ] } },
      { "name": "isTimeSlotAvailable",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "session",
              "type": "wix-bookings-backend.availability.Slot",
              "doc": "Check if a time slot is available in a specified schedule." },
            { "name": "partySize",
              "type": "number",
              "doc": "Number of spots to query availability for." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.availability.IsAvailableResponse" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 36,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Returns the current availability of a requested entity.",
            "description":
              [ "Based on the requested entity, validate there is enough spots left.",
                "When invoking on a locked session, availability is False.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Read Bookings - Public Data permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from \"wix-bookings-backend\";",
                      "",
                      "export function isTimeSlotAvailable() {",
                      "  let session = {",
                      "    scheduleId: \"a string\",",
                      "    start: new Date(),",
                      "    end: new Date(),",
                      "    requiredScheduleIds: [\"a string\"]",
                      "  };",
                      "  let partySize = 42;",
                      "",
                      "  return availability",
                      "    .isTimeSlotAvailable(session, partySize)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-beta" } ] } },
      { "name": "lockSession",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "sessionId",
              "type": "string",
              "doc": "session ID to lock" } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "string" ] },
            "doc": "Fulfilled - locked session key" },
        "locations":
          [ { "lineno": 87,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Lock a session for bookings.",
            "description":
              [ "When invoking this API with a sessionId, it returns a key that will enable to book the given session.",
                "Once the session is locked -",
                "Only the holder of the right key will be able to Book or Checkout.",
                "Calling IsAvailable returns as not available.",
                "Invoking Bookings.Book, Bookings.Checkout APIs without the right key will fail.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Manage Bookings permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from \"wix-bookings-backend\";",
                      "",
                      "export function lockSession() {",
                      "  let sessionId = \"a string\";",
                      "",
                      "  return availability",
                      "    .lockSession(sessionId)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-beta" } ] } },
      { "name": "unlockSession",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "sessionId",
              "type": "string",
              "doc": "locked session ID to unlock" },
            { "name": "key",
              "type": "string",
              "doc": "locked session key" } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 106,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Unlock a locked session for bookings.",
            "description":
              [ "When invoking this API with a sessionId and its key, the session will be available for bookings.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Manage Bookings permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from \"wix-bookings-backend\";",
                      "",
                      "export function unlockSession() {",
                      "  let sessionId = \"a string\";",
                      "  let key = \"a string\";",
                      "",
                      "  return availability",
                      "    .unlockSession(sessionId, key)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-beta" } ] } } ],
  "callbacks": [],
  "messages":
    [ { "name": "<TODO>0",
        "locations":
          [ { "lineno": 11,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "<TODO>",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "available",
              "type": "boolean",
              "doc": "whether or not the requested entity is available for booking of the specified party size (read-only, cannot be set in code)" },
            { "name": "capacity",
              "type": "number",
              "doc": "The maximum number of participants that can be added to the session. (read-only, cannot be set in code)" },
            { "name": "totalNumberOfParticipants",
              "type": "number",
              "doc": "The current number of registered participants on this session (read-only, cannot be set in code)" } ],
        "extra":
          {  },
        "labels":
          [ "removed" ] },
      { "name": "AvailabilityResult",
        "locations":
          [ { "lineno": 11,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "<TODO>",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "capacity",
              "type": "number",
              "doc": "The maximum number of participants that can be added to the session. (read-only, cannot be set in code)" },
            { "name": "totalNumberOfParticipants",
              "type": "number",
              "doc": "The current number of registered participants on this session (read-only, cannot be set in code)" },
            { "name": "available",
              "type": "boolean",
              "doc": "whether or not the requested entity is available for booking of the specified party size (read-only, cannot be set in code)" } ],
        "extra":
          {  },
        "labels":
          [ "removed" ] },
      { "name": "IsAvailableResponse",
        "locations":
          [ { "lineno": 11,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "available",
              "type": "boolean",
              "doc": "whether or not the requested entity is available for booking of the specified party size (read-only, cannot be set in code)" },
            { "name": "capacity",
              "type": "number",
              "doc": "The maximum number of participants that can be added to the session. (read-only, cannot be set in code)" },
            { "name": "totalNumberOfParticipants",
              "type": "number",
              "doc": "The current number of registered participants on this session (read-only, cannot be set in code)" } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Slot",
        "locations":
          [ { "lineno": 1,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Check if a time slot is available in a specified schedule.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "scheduleId",
              "type": "string",
              "doc": "the ID of the schedule to which the slot belongs to.",
              "optional": true },
            { "name": "start",
              "type": "Date",
              "doc": "Slot's start time.",
              "optional": true },
            { "name": "end",
              "type": "Date",
              "doc": "Slot's end time.",
              "optional": true },
            { "name": "requiredScheduleIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "The affected schedules on which the availability will be checked. It is enough to have it available on one of the schedules from this list.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }